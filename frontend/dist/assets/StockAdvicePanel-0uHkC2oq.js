import{d as x,n as D,c as w,p as B,o as f,b as s,e as A,w as a,f as i,t as l,h as d,m as $,F as S,q as T,_ as aa}from"./index-ONXd2yip.js";const ea={key:0,class:"stock-advice-panel"},ta={class:"card-hd"},sa={class:"title"},la={class:"code"},na={class:"name"},da={class:"card-hd"},ia={class:"card-hd"},oa={key:0,class:"sr-box mt8"},ra={class:"mt8"},ua={key:0},_a={class:"headline-title"},ca={class:"advice-group"},ma={class:"advice-block"},pa={class:"advice-body"},fa={class:"tags"},va={class:"tags"},ba={class:"tags"},ya={class:"tags"},ga={class:"advice-block"},ha={class:"advice-body"},ka={class:"tags"},wa={class:"tags"},za={class:"tags"},$a={class:"tags"},Na={class:"advice-block"},Aa={class:"advice-body"},Ca={class:"muted"},Sa={key:0,class:"risk-warning"},Ta=x({__name:"StockAdvicePanel",props:{data:{}},setup(K){const F=K,Q=D(()=>{var g,h,z,C;const e=(h=(g=F.data)==null?void 0:g.price_data)==null?void 0:h.daily_change,n=(C=(z=F.data)==null?void 0:z.price_data)==null?void 0:C.daily_change_percent;if(e==null&&n==null)return"-";const m=(e??0)>=0?"+":"",o=(e??0).toFixed(2),k=n!=null?` (${m}${n.toFixed(2)}%)`:"";return`${m}${o}${k}`}),U=D(()=>{var n,m;const e=((m=(n=F.data)==null?void 0:n.price_data)==null?void 0:m.daily_change)??0;return e>0?"success":e<0?"danger":"info"}),W=D(()=>{var m,o,k,g,h,z,C,V;const e=((g=(k=(o=(m=F.data)==null?void 0:m.technical_analysis)==null?void 0:o.support_resistance)==null?void 0:k.support)==null?void 0:g.length)??0,n=((V=(C=(z=(h=F.data)==null?void 0:h.technical_analysis)==null?void 0:z.support_resistance)==null?void 0:C.resistance)==null?void 0:V.length)??0;return e>0||n>0}),X=D(()=>{var e,n;return(((n=(e=F.data)==null?void 0:e.news_sentiment)==null?void 0:n.news_count)??0)>0});function c(e){return typeof e=="number"?Number(e).toFixed(2):"-"}function L(e){return typeof e=="number"?Intl.NumberFormat().format(e):"-"}function Y(e){if(!e)return"-";const n=new Date(e);return Number.isNaN(n.getTime())?e:n.toLocaleString()}function Z(e){if(!e)return"info";const n=e.toLowerCase();return n.includes("pos")?"success":n.includes("neg")?"danger":"info"}return(e,n)=>{const m=A("el-tag"),o=A("el-descriptions-item"),k=A("el-descriptions"),g=A("el-card"),h=A("el-col"),z=A("el-row"),C=A("el-empty"),V=A("el-alert");return e.data?(f(),w("div",ea,[s(z,{gutter:16},{default:a(()=>[s(h,{xs:24,lg:12},{default:a(()=>[s(g,{shadow:"hover",class:"block-card"},{header:a(()=>[i("div",ta,[n[0]||(n[0]=i("span",null,"基础信息",-1)),e.data.timezone?(f(),$(m,{key:0,size:"small",type:"info"},{default:a(()=>[d(l(e.data.timezone),1)]),_:1})):B("",!0)])]),default:a(()=>{var t,_;return[i("div",sa,[i("span",la,l(((t=e.data.stock)==null?void 0:t.code)||"-"),1),i("span",na,l(((_=e.data.stock)==null?void 0:_.name)||""),1)]),s(k,{column:2,size:"small",border:""},{default:a(()=>[s(o,{label:"市场"},{default:a(()=>{var p;return[d(l(((p=e.data.stock)==null?void 0:p.market)||"-"),1)]}),_:1}),s(o,{label:"货币"},{default:a(()=>{var p;return[d(l(((p=e.data.stock)==null?void 0:p.currency)||"-"),1)]}),_:1}),s(o,{label:"行业"},{default:a(()=>{var p;return[d(l(((p=e.data.stock)==null?void 0:p.industry)||"-"),1)]}),_:1}),s(o,{label:"板块"},{default:a(()=>{var p;return[d(l(((p=e.data.stock)==null?void 0:p.sector)||"-"),1)]}),_:1}),s(o,{label:"日期",span:2},{default:a(()=>[d(l(Y(e.data.date)),1)]),_:1})]),_:1})]}),_:1})]),_:1}),s(h,{xs:24,lg:12},{default:a(()=>[s(g,{shadow:"hover",class:"block-card"},{header:a(()=>[i("div",da,[n[1]||(n[1]=i("span",null,"价格概览",-1)),s(m,{size:"small",type:U.value},{default:a(()=>[d(l(Q.value),1)]),_:1},8,["type"])])]),default:a(()=>[s(k,{column:3,size:"small",border:""},{default:a(()=>[s(o,{label:"开盘"},{default:a(()=>{var t;return[d(l(c((t=e.data.price_data)==null?void 0:t.open)),1)]}),_:1}),s(o,{label:"收盘"},{default:a(()=>{var t;return[d(l(c((t=e.data.price_data)==null?void 0:t.close)),1)]}),_:1}),s(o,{label:"昨收"},{default:a(()=>{var t;return[d(l(c((t=e.data.price_data)==null?void 0:t.prev_close)),1)]}),_:1}),s(o,{label:"最高"},{default:a(()=>{var t;return[d(l(c((t=e.data.price_data)==null?void 0:t.high)),1)]}),_:1}),s(o,{label:"最低"},{default:a(()=>{var t;return[d(l(c((t=e.data.price_data)==null?void 0:t.low)),1)]}),_:1}),s(o,{label:"波动幅度"},{default:a(()=>{var t,_;return[d(l(c((_=(t=e.data.technical_analysis)==null?void 0:t.volatility)==null?void 0:_.daily_range_percent))+"%",1)]}),_:1}),s(o,{label:"成交量",span:2},{default:a(()=>{var t;return[d(l(L((t=e.data.price_data)==null?void 0:t.volume)),1)]}),_:1}),s(o,{label:"20 日均量"},{default:a(()=>{var t;return[d(l(L((t=e.data.price_data)==null?void 0:t.avg_volume_20d)),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(z,{gutter:16,class:"mt16"},{default:a(()=>[s(h,{xs:24,lg:12},{default:a(()=>[s(g,{shadow:"hover",class:"block-card"},{header:a(()=>{var t,_;return[i("div",ia,[n[2]||(n[2]=i("span",null,"技术面",-1)),(_=(t=e.data.technical_analysis)==null?void 0:t.candle)!=null&&_.type?(f(),$(m,{key:0,size:"small",type:"warning"},{default:a(()=>{var p,N;return[d(l((N=(p=e.data.technical_analysis)==null?void 0:p.candle)==null?void 0:N.type),1)]}),_:1})):B("",!0)])]}),default:a(()=>{var t,_,p,N;return[s(k,{column:2,size:"small",border:""},{default:a(()=>[s(o,{label:"短期"},{default:a(()=>{var r,u;return[d(l(((u=(r=e.data.technical_analysis)==null?void 0:r.trend)==null?void 0:u.short_term)||"-"),1)]}),_:1}),s(o,{label:"中期"},{default:a(()=>{var r,u;return[d(l(((u=(r=e.data.technical_analysis)==null?void 0:r.trend)==null?void 0:u.medium_term)||"-"),1)]}),_:1}),s(o,{label:"长期"},{default:a(()=>{var r,u;return[d(l(((u=(r=e.data.technical_analysis)==null?void 0:r.trend)==null?void 0:u.long_term)||"-"),1)]}),_:1}),s(o,{label:"备注",span:2},{default:a(()=>{var r,u;return[d(l(((u=(r=e.data.technical_analysis)==null?void 0:r.trend)==null?void 0:u.notes)||"-"),1)]}),_:1})]),_:1}),s(k,{column:3,size:"small",border:"",class:"mt8"},{default:a(()=>[s(o,{label:"MA5"},{default:a(()=>{var r,u,v;return[d(l(c((v=(u=(r=e.data.technical_analysis)==null?void 0:r.indicators)==null?void 0:u.moving_averages)==null?void 0:v.ma5)),1)]}),_:1}),s(o,{label:"MA10"},{default:a(()=>{var r,u,v;return[d(l(c((v=(u=(r=e.data.technical_analysis)==null?void 0:r.indicators)==null?void 0:u.moving_averages)==null?void 0:v.ma10)),1)]}),_:1}),s(o,{label:"MA20"},{default:a(()=>{var r,u,v;return[d(l(c((v=(u=(r=e.data.technical_analysis)==null?void 0:r.indicators)==null?void 0:u.moving_averages)==null?void 0:v.ma20)),1)]}),_:1}),s(o,{label:"RSI"},{default:a(()=>{var r,u,v;return[d(l(c((v=(u=(r=e.data.technical_analysis)==null?void 0:r.indicators)==null?void 0:u.rsi)==null?void 0:v.value)),1)]}),_:1}),s(o,{label:"MACD"},{default:a(()=>{var r,u,v;return[d(l(c((v=(u=(r=e.data.technical_analysis)==null?void 0:r.indicators)==null?void 0:u.macd)==null?void 0:v.macd_line)),1)]}),_:1}),s(o,{label:"BOLL 位置"},{default:a(()=>{var r,u,v;return[d(l(((v=(u=(r=e.data.technical_analysis)==null?void 0:r.indicators)==null?void 0:u.bollinger_bands)==null?void 0:v.position)||"-"),1)]}),_:1})]),_:1}),W.value?(f(),w("div",oa,[i("div",null,[n[3]||(n[3]=i("span",{class:"sr-title"},"支撑",-1)),(f(!0),w(S,null,T(((_=(t=e.data.technical_analysis)==null?void 0:t.support_resistance)==null?void 0:_.support)||[],(r,u)=>(f(),$(m,{key:`s${u}`,class:"mr8 mb8",type:"success",effect:"light"},{default:a(()=>[d(l(c(r.level))+" · "+l(r.strength||"-"),1)]),_:2},1024))),128))]),i("div",ra,[n[4]||(n[4]=i("span",{class:"sr-title"},"阻力",-1)),(f(!0),w(S,null,T(((N=(p=e.data.technical_analysis)==null?void 0:p.support_resistance)==null?void 0:N.resistance)||[],(r,u)=>(f(),$(m,{key:`r${u}`,class:"mr8 mb8",type:"danger",effect:"light"},{default:a(()=>[d(l(c(r.level))+" · "+l(r.strength||"-"),1)]),_:2},1024))),128))])])):B("",!0)]}),_:1})]),_:1}),s(h,{xs:24,lg:12},{default:a(()=>[s(g,{shadow:"hover",class:"block-card"},{header:a(()=>[...n[5]||(n[5]=[i("div",{class:"card-hd"},[i("span",null,"成交量分析")],-1)])]),default:a(()=>[s(k,{column:2,size:"small",border:""},{default:a(()=>[s(o,{label:"当日成交量"},{default:a(()=>{var t;return[d(l(L((t=e.data.volume_analysis)==null?void 0:t.daily_volume)),1)]}),_:1}),s(o,{label:"20 日均量"},{default:a(()=>{var t;return[d(l(L((t=e.data.volume_analysis)==null?void 0:t.avg_volume_20d)),1)]}),_:1}),s(o,{label:"趋势"},{default:a(()=>{var t;return[d(l(((t=e.data.volume_analysis)==null?void 0:t.volume_trend)||"-"),1)]}),_:1}),s(o,{label:"放量"},{default:a(()=>{var t;return[d(l((t=e.data.volume_analysis)!=null&&t.volume_spike?"是":"否"),1)]}),_:1}),s(o,{label:"解读",span:2},{default:a(()=>{var t;return[d(l(((t=e.data.volume_analysis)==null?void 0:t.interpretation)||"-"),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(z,{gutter:16,class:"mt16"},{default:a(()=>[s(h,{xs:24,lg:12},{default:a(()=>[s(g,{shadow:"hover",class:"block-card"},{header:a(()=>[...n[6]||(n[6]=[i("div",{class:"card-hd"},[i("span",null,"基本面")],-1)])]),default:a(()=>[s(k,{column:2,size:"small",border:""},{default:a(()=>[s(o,{label:"市值"},{default:a(()=>{var t;return[d(l(((t=e.data.fundamental_analysis)==null?void 0:t.market_cap)||"-"),1)]}),_:1}),s(o,{label:"市盈率"},{default:a(()=>{var t;return[d(l(c((t=e.data.fundamental_analysis)==null?void 0:t.pe_ratio)),1)]}),_:1}),s(o,{label:"每股收益"},{default:a(()=>{var t;return[d(l(c((t=e.data.fundamental_analysis)==null?void 0:t.eps)),1)]}),_:1}),s(o,{label:"股息率"},{default:a(()=>{var t;return[d(l(c((t=e.data.fundamental_analysis)==null?void 0:t.dividend_yield))+"%",1)]}),_:1}),s(o,{label:"营收趋势",span:2},{default:a(()=>{var t;return[d(l(((t=e.data.fundamental_analysis)==null?void 0:t.revenue_trend)||"-"),1)]}),_:1}),s(o,{label:"利润率",span:2},{default:a(()=>{var t;return[d(l(c((t=e.data.fundamental_analysis)==null?void 0:t.profit_margin)),1)]}),_:1}),s(o,{label:"备注",span:2},{default:a(()=>{var t;return[d(l(((t=e.data.fundamental_analysis)==null?void 0:t.notes)||"-"),1)]}),_:1})]),_:1})]),_:1})]),_:1}),s(h,{xs:24,lg:12},{default:a(()=>[s(g,{shadow:"hover",class:"block-card"},{header:a(()=>[...n[7]||(n[7]=[i("div",{class:"card-hd"},[i("span",null,"新闻情绪")],-1)])]),default:a(()=>{var t;return[X.value?(f(),w("div",ua,[(f(!0),w(S,null,T(((t=e.data.news_sentiment)==null?void 0:t.top_headlines)||[],(_,p)=>(f(),w("div",{class:"headline",key:`headline-${p}`},[s(m,{type:Z(_.sentiment),size:"small"},{default:a(()=>[d(l(_.sentiment||"未知"),1)]),_:2},1032,["type"]),i("span",_a,l(_.title||"-"),1)]))),128)),s(k,{column:2,size:"small",border:"",class:"mt8"},{default:a(()=>[s(o,{label:"新闻数量"},{default:a(()=>{var _;return[d(l(((_=e.data.news_sentiment)==null?void 0:_.news_count)??"-"),1)]}),_:1}),s(o,{label:"整体情绪"},{default:a(()=>{var _;return[d(l(((_=e.data.news_sentiment)==null?void 0:_.overall_sentiment)||"-"),1)]}),_:1}),s(o,{label:"积极"},{default:a(()=>{var _;return[d(l(((_=e.data.news_sentiment)==null?void 0:_.positive)??"-"),1)]}),_:1}),s(o,{label:"中性"},{default:a(()=>{var _;return[d(l(((_=e.data.news_sentiment)==null?void 0:_.neutral)??"-"),1)]}),_:1}),s(o,{label:"消极"},{default:a(()=>{var _;return[d(l(((_=e.data.news_sentiment)==null?void 0:_.negative)??"-"),1)]}),_:1})]),_:1})])):(f(),$(C,{key:1,description:"暂无新闻数据"}))]}),_:1})]),_:1})]),_:1}),s(z,{gutter:16,class:"mt16"},{default:a(()=>[s(h,{xs:24,lg:12},{default:a(()=>[s(g,{shadow:"hover",class:"block-card"},{header:a(()=>[...n[8]||(n[8]=[i("div",{class:"card-hd"},[i("span",null,"投资建议")],-1)])]),default:a(()=>{var t,_,p,N,r,u,v,I,M,P,R,q,E,O,j,G,H,J;return[i("div",ca,[i("div",ma,[n[13]||(n[13]=i("div",{class:"advice-hd"},"短线",-1)),i("div",pa,[i("p",null,l(((_=(t=e.data.investment_advice)==null?void 0:t.short_term)==null?void 0:_.strategy)||"-"),1),i("div",fa,[n[9]||(n[9]=i("span",null,"买入区间：",-1)),(f(!0),w(S,null,T(((N=(p=e.data.investment_advice)==null?void 0:p.short_term)==null?void 0:N.buy_zone)||[],(b,y)=>(f(),$(m,{key:`sb${y}`,class:"mr8 mb8"},{default:a(()=>[d(l(c(b)),1)]),_:2},1024))),128))]),i("div",va,[n[10]||(n[10]=i("span",null,"止盈区间：",-1)),(f(!0),w(S,null,T(((u=(r=e.data.investment_advice)==null?void 0:r.short_term)==null?void 0:u.take_profit_zone)||[],(b,y)=>(f(),$(m,{key:`sp${y}`,class:"mr8 mb8",type:"success"},{default:a(()=>[d(l(c(b)),1)]),_:2},1024))),128))]),i("div",ba,[n[11]||(n[11]=i("span",null,"止损：",-1)),s(m,{type:"danger"},{default:a(()=>{var b,y;return[d(l(c((y=(b=e.data.investment_advice)==null?void 0:b.short_term)==null?void 0:y.stop_loss)),1)]}),_:1})]),i("div",ya,[n[12]||(n[12]=i("span",null,"风险评级：",-1)),s(m,{type:"warning"},{default:a(()=>{var b,y;return[d(l(((y=(b=e.data.investment_advice)==null?void 0:b.short_term)==null?void 0:y.risk_level)||"-"),1)]}),_:1})])])]),i("div",ga,[n[18]||(n[18]=i("div",{class:"advice-hd"},"中线",-1)),i("div",ha,[i("p",null,l(((I=(v=e.data.investment_advice)==null?void 0:v.medium_term)==null?void 0:I.strategy)||"-"),1),i("div",ka,[n[14]||(n[14]=i("span",null,"买入区间：",-1)),(f(!0),w(S,null,T(((P=(M=e.data.investment_advice)==null?void 0:M.medium_term)==null?void 0:P.buy_zone)||[],(b,y)=>(f(),$(m,{key:`mb${y}`,class:"mr8 mb8"},{default:a(()=>[d(l(c(b)),1)]),_:2},1024))),128))]),i("div",wa,[n[15]||(n[15]=i("span",null,"止盈区间：",-1)),(f(!0),w(S,null,T(((q=(R=e.data.investment_advice)==null?void 0:R.medium_term)==null?void 0:q.take_profit_zone)||[],(b,y)=>(f(),$(m,{key:`mp${y}`,class:"mr8 mb8",type:"success"},{default:a(()=>[d(l(c(b)),1)]),_:2},1024))),128))]),i("div",za,[n[16]||(n[16]=i("span",null,"止损：",-1)),s(m,{type:"danger"},{default:a(()=>{var b,y;return[d(l(c((y=(b=e.data.investment_advice)==null?void 0:b.medium_term)==null?void 0:y.stop_loss)),1)]}),_:1})]),i("div",$a,[n[17]||(n[17]=i("span",null,"风险评级：",-1)),s(m,{type:"warning"},{default:a(()=>{var b,y;return[d(l(((y=(b=e.data.investment_advice)==null?void 0:b.medium_term)==null?void 0:y.risk_level)||"-"),1)]}),_:1})])])]),i("div",Na,[n[19]||(n[19]=i("div",{class:"advice-hd"},"长线",-1)),i("div",Aa,[i("p",null,l(((O=(E=e.data.investment_advice)==null?void 0:E.long_term)==null?void 0:O.strategy)||"-"),1),i("p",Ca,l(((G=(j=e.data.investment_advice)==null?void 0:j.long_term)==null?void 0:G.risk_notes)||""),1)])])]),(H=e.data.investment_advice)!=null&&H.risk_warning?(f(),w("div",Sa,[s(V,{title:(J=e.data.investment_advice)==null?void 0:J.risk_warning,type:"warning","show-icon":""},null,8,["title"])])):B("",!0)]}),_:1})]),_:1}),s(h,{xs:24,lg:12},{default:a(()=>[s(g,{shadow:"hover",class:"block-card"},{header:a(()=>[...n[20]||(n[20]=[i("div",{class:"card-hd"},[i("span",null,"宏观因素")],-1)])]),default:a(()=>[s(k,{column:2,size:"small",border:""},{default:a(()=>[s(o,{label:"利率"},{default:a(()=>{var t;return[d(l(c((t=e.data.macro_economic_factors)==null?void 0:t.interest_rate))+"%",1)]}),_:1}),s(o,{label:"通胀"},{default:a(()=>{var t;return[d(l(c((t=e.data.macro_economic_factors)==null?void 0:t.inflation_rate))+"%",1)]}),_:1}),s(o,{label:"市场情绪",span:2},{default:a(()=>{var t;return[d(l(((t=e.data.macro_economic_factors)==null?void 0:t.market_sentiment)||"-"),1)]}),_:1}),s(o,{label:"备注",span:2},{default:a(()=>{var t;return[d(l(((t=e.data.macro_economic_factors)==null?void 0:t.notes)||"-"),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])):B("",!0)}}}),Ba=aa(Ta,[["__scopeId","data-v-88257491"]]);export{Ba as S};
