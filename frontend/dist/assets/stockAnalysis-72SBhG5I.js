import{A as n}from"./index-ONXd2yip.js";async function f(t){const{data:e}=await n.post("/stocks/analysis",t);return e}async function d(){const{data:t}=await n.get("/stocks/history");return t}async function p(t,e){const{data:r}=await n.get("/stocks/intraday",{params:{symbol:t,interval:e}});return r}function b(t){return(t.candles??[]).map(e=>({date:e.timestamp,open:Number(e.open??0),high:Number(e.high??0),low:Number(e.low??0),close:Number(e.close??0),volume:Number(e.volume??0)})).filter(e=>Number.isFinite(e.open)&&Number.isFinite(e.high)&&Number.isFinite(e.low)&&Number.isFinite(e.close)).sort((e,r)=>e.date<r.date?-1:e.date>r.date?1:0)}function N(t){if(Array.isArray(t)){const r=t.find(s=>!!(s!=null&&s.extractedJson));return(r==null?void 0:r.extractedJson)??{}}const e=t;return e&&typeof e=="object"&&"extractedJson"in e?e.extractedJson??{}:t??{}}function h(t){let e;if(Array.isArray(t)){const r=t.find(s=>s==null?void 0:s.timeSeries);e=r==null?void 0:r.timeSeries}else t&&typeof t=="object"&&"timeSeries"in t&&(e=t.timeSeries);return!e||typeof e!="object"?[]:Object.entries(e).map(([r,s])=>{const o=parseFloat(s["1. open"]??""),i=parseFloat(s["2. high"]??""),a=parseFloat(s["3. low"]??""),c=parseFloat(s["4. close"]??""),u=parseFloat(s["5. volume"]??"");return[o,i,a,c].some(m=>Number.isNaN(m))?null:{date:r,open:o,high:i,low:a,close:c,volume:Number.isNaN(u)?0:u}}).filter(r=>!!r).sort((r,s)=>r.date<s.date?-1:r.date>s.date?1:0)}export{f as a,d as b,h as e,p as f,b as m,N as t};
